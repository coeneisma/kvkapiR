<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Export usage data to CSV file — kvk_export_usage • kvkapiR</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Export usage data to CSV file — kvk_export_usage"><meta name="description" content="Export your KvK API usage data to a CSV file for external analysis,
reporting, or record keeping. Choose between detailed call-by-call data
or monthly aggregated summaries."><meta property="og:description" content="Export your KvK API usage data to a CSV file for external analysis,
reporting, or record keeping. Choose between detailed call-by-call data
or monthly aggregated summaries."><meta property="og:image" content="https://coeneisma.github.io/kvkapiR/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">kvkapiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/kvkapiR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/coeneisma/kvkapiR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Export usage data to CSV file</h1>
      <small class="dont-index">Source: <a href="https://github.com/coeneisma/kvkapiR/blob/main/R/utils-usage-tracking.R" class="external-link"><code>R/utils-usage-tracking.R</code></a></small>
      <div class="d-none name"><code>kvk_export_usage.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Export your KvK API usage data to a CSV file for external analysis,
reporting, or record keeping. Choose between detailed call-by-call data
or monthly aggregated summaries.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">kvk_export_usage</span><span class="op">(</span><span class="va">file_path</span>, format <span class="op">=</span> <span class="st">"tidy"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-file-path">file_path<a class="anchor" aria-label="anchor" href="#arg-file-path"></a></dt>
<dd><p>Character string specifying the path where the CSV file
should be saved. Can include relative or absolute paths. The file will
be created if it doesn't exist, or overwritten if it does.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>Character string specifying the export format:</p><ul><li><p><code>"tidy"</code> (default): One row per API call with detailed information
including timestamp, date, call type, and other metadata. Perfect for
creating custom visualizations and detailed analysis.</p></li>
<li><p><code>"monthly"</code>: Aggregated monthly summary with call counts by type
and cost calculations. Ideal for reporting and budget tracking.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisibly returns NULL. The function is called for its side effect
of creating a CSV file.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The exported data only includes production API calls. Test environment calls
are not included in the export.</p>
<p><strong>Tidy format</strong> includes these columns:</p><ul><li><p><code>timestamp</code>: Exact time of the API call</p></li>
<li><p><code>date</code>: Date of the API call</p></li>
<li><p><code>year</code>, <code>month</code>: Extracted date components</p></li>
<li><p><code>call_type</code>: Type of API call (search, basisprofiel, etc.)</p></li>
<li><p><code>test_environment</code>: Always FALSE for production calls</p></li>
</ul><p><strong>Monthly format</strong> includes these columns:</p><ul><li><p><code>Year</code>, <code>Month</code>: Time period</p></li>
<li><p><code>Search</code>, <code>Basisprofiel</code>, <code>Vestiging</code>, <code>Naamgeving</code>: Call counts by type</p></li>
<li><p><code>Costs (EUR)</code>: Total costs including base fee and query charges</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="kvk_usage_report.html">kvk_usage_report</a></code> for viewing usage in R,
<code><a href="kvk_usage_alert.html">kvk_usage_alert</a></code> for setting usage limits,
<code><a href="kvk_reset_usage.html">kvk_reset_usage</a></code> for clearing usage history</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="co"># Export detailed call data for analysis</span></span></span>
<span class="r-in"><span><span class="fu">kvk_export_usage</span><span class="op">(</span><span class="st">"my_api_usage.csv"</span>, format <span class="op">=</span> <span class="st">"tidy"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Export monthly summary for reporting</span></span></span>
<span class="r-in"><span><span class="fu">kvk_export_usage</span><span class="op">(</span><span class="st">"monthly_report.csv"</span>, format <span class="op">=</span> <span class="st">"monthly"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Export to specific directory</span></span></span>
<span class="r-in"><span><span class="fu">kvk_export_usage</span><span class="op">(</span><span class="st">"reports/2025_usage.csv"</span>, format <span class="op">=</span> <span class="st">"tidy"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use in data analysis workflow</span></span></span>
<span class="r-in"><span><span class="fu">kvk_export_usage</span><span class="op">(</span><span class="st">"temp_usage.csv"</span>, format <span class="op">=</span> <span class="st">"tidy"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">usage_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"temp_usage.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Perform custom analysis...</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Coen Eisma.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

